{"version":3,"sources":["webpack:///./src/views/AdminSong.vue","webpack:///./src/views/AdminSong.vue?02fe"],"names":["_createElementVNode","_createVNode","_component_n_space","style","_component_n_input","onKeydown","$setup","value","$event","type","placeholder","_component_n_button","onClick","_component_n_table","_hoisted_3","_createElementBlock","_Fragment","_renderList","item","index","key","id","_toDisplayString","name","singers","_hoisted_4","createTime","replace","size","ghost","justify","_component_n_empty","description","_component_n_pagination","page","__exports__","render"],"mappings":"8KAA2O,M,+BAAsF,M,EAA6FA,gCAA8K,cAA9JA,gCAA6I,WAA5HA,gCAAW,UAAP,MAAoBA,gCAAY,UAAR,OAAqBA,gCAAW,UAAP,MAAoBA,gCAAa,UAAT,QAAsBA,gCAAW,UAAP,UAAxI,G,yCAAmsB,Q,+BAAqK,Q,0XAAjwCC,yBAA2WC,EAAA,CAAlWC,MAAA,mBAAsB,C,6BAAU,IAAoI,CAApIF,yBAAoIC,EAAA,M,6BAA9G,IAA2F,CAA3FD,yBAA2FG,EAAA,CAAjFC,UAAO,sBAAQC,SAAM,WAAUC,MAAOD,U,gCAAAA,UAAOE,GAAEC,KAAK,OAAOC,YAAY,UAAjF,gC,MAAuHT,yBAAgFC,EAAA,M,6BAA1D,IAAuC,CAAvCD,yBAAuCU,EAAA,CAA5BC,QAAON,UAAM,C,6BAAE,IAAE,K,KAA5B,iB,MAAmEL,yBAA6EC,EAAA,M,6BAAvD,IAAoC,CAApCD,yBAAoCU,EAAA,CAAzBC,QAAON,OAAG,C,6BAAE,IAAE,K,KAAzB,iB,cAA2EL,yBAAogCY,EAAA,CAA3/BV,MAAA,mBAAsB,C,6BAAU,IAA8K,CAA9KW,EAAuLd,gCAAqxB,0CAArwBe,gCAAovBC,cAAA,KAAAC,wBAAxtBX,QAAK,CAArBY,EAAMC,K,yBAAlBJ,gCAAovB,MAAhtBK,IAAKF,EAAKG,IAA9C,CAA+DrB,gCAAwB,UAAAsB,6BAAjBH,EAAK,MAAyBnB,gCAAwB,UAAAsB,6BAAjBJ,EAAKK,MAAI,GAAqBvB,gCAAkN,uCAA7Le,gCAA2KC,cAAA,KAAAC,wBAA7IC,EAAKM,QAAO,CAA5BN,EAAMC,K,yBAApBJ,gCAA2K,aAAzF,IAALI,GAAK,yBAAjBJ,gCAAmC,OAAAU,EAAV,QAAzB,uCAAwDzB,gCAA0B,YAAAsB,6BAAlBJ,EAAKK,MAAI,OAA1I,QAA0MvB,gCAAgD,UAAAsB,6BAAzCJ,EAAKQ,WAAWC,QAAO,aAA+B3B,gCAAiU,WAA5SC,yBAAqHU,EAAA,CAA3GF,KAAK,OAAOmB,KAAK,QAAQC,MAAA,GAAOjB,QAAK,GAAEN,SAAOY,EAAKG,KAA7D,C,6BAAkE,IAAwC,K,KAA1G,kBAAsIpB,yBAAoJU,EAAA,CAA1IR,MAAA,uBAA0BM,KAAK,QAAQmB,KAAK,QAAQC,MAAA,GAAOjB,QAAK,GAAEN,aAAWY,EAAKG,KAA5F,C,6BAAiG,IAAwC,K,KAAzI,wBAAhkB,U,MAAyxBpB,yBAAwHC,EAAA,CAA/G4B,QAAQ,UAAQ,C,6BAAU,IAAsE,6BAAtE7B,yBAAsE8B,EAAA,CAApCC,YAAY,MAAI,uBAAxB,IAAT1B,iB,MAApD,4BAA6HL,yBAA2UgC,EAAA,CAArT9B,MAAA,iBAAsE+B,KAAM5B,O,gCAAAA,OAAIE,GAAwKF,cAA7J,aAAYA,YAAmBsB,KAAK,SAAiB,uBAA0B,sBAA0B,aAAY,cAA6D,oBAAkBtB,kBAArT,+EAA4DA,aAAS,U,8mCCKhkD,MAAM6B,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d0d0bf5.e21be565.js","sourcesContent":["<template>\r    <n-space style=\"margin: 10px 0\">\r        <n-space>\r            <n-input @keydown.enter=\"search\" v-model:value=\"keyword\" type=\"text\" placeholder=\"请输入关键词\"/>\r        </n-space>\r        <n-space>\r            <n-button @click=\"search\">搜索</n-button>\r        </n-space>\r        <n-space>\r            <n-button @click=\"add\">新增</n-button>\r        </n-space>\r    </n-space>\r    <n-table style=\"margin: 10px 0\">\r        <thead>\r        <tr>\r            <th>序号</th>\r            <th>歌曲名</th>\r            <th>歌手</th>\r            <th>创建时间</th>\r            <th>操作</th>\r        </tr>\r        </thead>\r        <tbody>\r        <tr v-for=\"(item, index) in songs\" :key=\"item.id\">\r            <td>{{ index + 1 }}</td>\r            <td>{{ item.name }}</td>\r            <td>\r                <span v-for=\"(item, index) in item.singers\">\r                    <span v-if=\"index !== 0\"> / </span>\r                    <span>{{item.name}}</span>\r                </span>\r            </td>\r            <td>{{ item.createTime.replace(\"T\", \" \") }}</td>\r            <td>\r                <n-button type=\"info\" size=\"small\" ghost @click=\"update(item.id)\">\r                    修改\r                </n-button>\r                <n-button style=\"margin-left: 10px\" type=\"error\" size=\"small\" ghost @click=\"deleteById(item.id)\">\r                    删除\r                </n-button>\r            </td>\r        </tr>\r        </tbody>\r    </n-table>\r    <n-space justify=\"center\">\r        <n-empty v-show=\"totalPage === 0\" description=\"暂无\">\r        </n-empty>\r    </n-space>\r    <n-pagination\r        style=\"padding: 10px\"\r        v-show=\"totalPage >= 1\"\r        v-model:page=\"page\"\r        :page-count=\"totalPage\"\r        size=\"medium\"\r        show-quick-jumper\r        show-size-picker\r        :page-sizes=\"[10, 20, 30, 40]\"\r        @update:page=\"updatePage\"\r        @update:page-size=\"updatePageSize\"\r    />\r</template>\r\r<script>\rimport {NTable, NButton, useMessage, NSpace, NInput, NEmpty, NPagination, NModal} from 'naive-ui'\rimport request from '../utils/request'\rimport {reactive, onMounted, ref} from 'vue'\rimport {useRouter} from 'vue-router'\r\rexport default {\r    name: 'AdminSong',\r    components: {NTable, NButton, NSpace, NModal, NInput, NEmpty, NPagination},\r    setup() {\r        const message = useMessage()\r        const router = useRouter()\r\r        let keyword = ref('')\r        let page = ref(1)\r        let pageSize = ref(10)\r        let totalPage = ref(0)\r        let songs = reactive([])\r\r        function init() {\r            request.get(`/song/search?pageSize=${pageSize.value}&pageNum=${page.value}&keyword=${keyword.value}`).then(res => {\r                if (res.data.code === 1) {\r                } else {\r                    songs.length = 0\r                    totalPage.value = res.data.data.pages\r                    page.value = res.data.data.current\r                    songs.push(...res.data.data.records)\r                }\r            })\r        }\r\r        onMounted(() => {\r            init()\r        })\r\r        function deleteById(id) {\r            request.post(`/admin/song/delete/${id}`).then(res => {\r                if (res.data.code === 1) {\r                    message.error('删除失败')\r                } else {\r                    message.success('删除成功')\r                }\r            }).finally(() => {\r                init()\r            })\r        }\r\r        function updatePage(value) {\r            page.value = value\r            init()\r        }\r\r        function updatePageSize(value) {\r            pageSize.value = value\r            init()\r        }\r\r        function search() {\r            init()\r        }\r\r        function add() {\r            router.push(\"/admin/songUpdate\")\r        }\r\r        function update(id) {\r            router.push(\"/admin/songUpdate?id=\" + id)\r        }\r\r        return {\r            keyword,\r            songs,\r            page,\r            pageSize,\r            totalPage,\r\r            deleteById,\r            updatePage,\r            updatePageSize,\r            search,\r            add,\r            update,\r        }\r    }\r}\r</script>\r\r<style scoped>\r\r</style>\r","import { render } from \"./AdminSong.vue?vue&type=template&id=67cae96e\"\nimport script from \"./AdminSong.vue?vue&type=script&lang=js\"\nexport * from \"./AdminSong.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\xck\\\\Desktop\\\\music-vue\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}