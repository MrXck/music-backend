{"version":3,"sources":["webpack:///./src/components/SongTable.vue","webpack:///./src/components/SongTable.vue?86f7","webpack:///./src/views/SingerDetail.vue","webpack:///./src/views/SingerDetail.vue?6ece","webpack:///./src/views/SingerDetail.vue?6b30"],"names":["_createElementVNode","xmlns","viewBox","d","fill","stroke","_createVNode","_component_n_table","striped","bordered","_hoisted_1","_hoisted_2","_hoisted_3","$props","_createElementBlock","_hoisted_4","_hoisted_5","length","_Fragment","key","_renderList","item","index","onDblclick","$setup","id","playing","_hoisted_7","isPause","_createBlock","_component_n_icon","_hoisted_8","color","_hoisted_9","_hoisted_10","_toDisplayString","isLove","_component_n_button","onClick","text","style","component","_hoisted_11","name","_hoisted_12","singers","singer","_hoisted_13","_hoisted_14","time","_component_n_empty","description","__exports__","render","class","_component_n_layout","_component_n_scrollbar","_component_n_spin","size","_component_n_image","width","src","imgSrc","height","songs","_component_n_space","justify","_component_n_input","type","placeholder","maxlength","round","prefix","_component_n_tabs","_component_n_tab_pane","tab","_component_SongTable","songList","onInit","needSinger"],"mappings":"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","file":"js/chunk-084e4cc4.1ceeb21d.js","sourcesContent":["<template>\r    <n-table striped :bordered=\"false\">\r        <tbody>\r        <tr>\r            <td></td>\r            <td>操作</td>\r            <td>标题</td>\r            <td v-if=\"needSinger\">歌手</td>\r            <td>时间</td>\r        </tr>\r        <tr v-if=\"songList.length > 0\" @dblclick=\"play(item)\" v-for=\"(item, index) in songList\"\r            :key=\"item.id\">\r            <td>\r                <span v-if=\"playStore.playing.id === item.id\">\r                    <n-icon v-if=\"playStore.isPause === true\">\r                        <svg xmlns=\"http://www.w3.org/2000/svg\"\r                             xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 24 24\">\r                            <path d=\"M7 9v6h4l5 5V4l-5 5H7z\" fill=\"currentColor\"></path>\r                        </svg>\r                    </n-icon>\r                    <n-icon color=\"#18a058\"\r                            v-if=\"playStore.isPause === false\">\r                        <svg xmlns=\"http://www.w3.org/2000/svg\"\r                             xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r                             viewBox=\"0 0 24 24\">\r                            <path\r                                d=\"M3 9v6h4l5 5V4L7 9H3zm13.5 3A4.5 4.5 0 0 0 14 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z\"\r                                fill=\"currentColor\"></path>\r                        </svg>\r                    </n-icon>\r                </span>\r                <span v-else>\r                    {{ index + 1 }}\r                </span>\r            </td>\r            <td>\r                <n-button v-if=\"!item.isLove\" @click=\"add(item)\" text style=\"font-size: 20px\">\r                    <n-icon>\r                        <svg xmlns=\"http://www.w3.org/2000/svg\"\r                             xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 512 512\">\r                            <path\r                                d=\"M352.92 80C288 80 256 144 256 144s-32-64-96.92-64c-52.76 0-94.54 44.14-95.08 96.81c-1.1 109.33 86.73 187.08 183 252.42a16 16 0 0 0 18 0c96.26-65.34 184.09-143.09 183-252.42c-.54-52.67-42.32-96.81-95.08-96.81z\"\r                                fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\"\r                                stroke-linejoin=\"round\" stroke-width=\"32\"></path>\r                        </svg>\r                    </n-icon>\r                </n-button>\r                <n-button v-else @click=\"remove(item)\" color=\"#18a058\" text style=\"font-size: 20px\">\r                    <n-icon :component=\"HeartSharp\"></n-icon>\r                </n-button>\r            </td>\r            <td>{{ item.name }}</td>\r            <td v-if=\"needSinger\">\r                <span v-for=\"(singer, index) in item.singers\">\r                    <span v-if=\"index !== 0\"> / </span><span @click=\"toSingerDetail(singer.id)\">{{ singer.name }}</span>\r                </span>\r            </td>\r            <td>{{ item.time }}</td>\r        </tr>\r        </tbody>\r    </n-table>\r    <n-empty v-if=\"songList.length === 0\" description=\"无\">\r    </n-empty>\r</template>\r\r<script>\rimport {NTable, NButton, NIcon, NEmpty, useMessage} from 'naive-ui'\rimport {usePlayStore} from '../store'\rimport {HeartSharp} from '@vicons/ionicons5'\rimport router from '../router'\r\rexport default {\r    name: 'SongTable',\r    props: ['songList', 'needSinger'],\r    emits: ['init'],\r    setup(props, context){\r\r        let songs = props.songList\r        let playStore = usePlayStore()\r        let message = useMessage()\r\r        function remove(item) {\r            try {\r                playStore.remove(item.id)\r                let index = playStore.playList.indexOf(item)\r                console.log(index)\r                if (index !== -1) {\r                    playStore.playList[index].isLove = false\r                }\r                message.success('取消收藏成功')\r            }catch (e){\r                message.error('取消收藏失败')\r            }\r            context.emit('init')\r        }\r\r        function add(item) {\r            try {\r                playStore.add(item.id)\r                let index = playStore.playList.indexOf(item)\r                console.log(index)\r                if(index !== -1){\r                    playStore.playList[index].isLove = true\r                }\r                message.success('收藏成功')\r            } catch (e) {\r                message.error('收藏失败')\r            }\r            context.emit('init')\r        }\r\r        function play(item) {\r            playStore.play(songs, item)\r        }\r\r        function toSingerDetail(id){\r            router.push('/singerDetail/' + id)\r        }\r\r        return {\r            playStore,\r\r            remove,\r            add,\r            play,\r            toSingerDetail,\r\r            HeartSharp,\r        }\r    },\r    components: {\r        NTable,\r        NButton,\r        NIcon,\r        NEmpty,\r    }\r}\r</script>\r\r<style scoped>\r\r</style>\r","import { render } from \"./SongTable.vue?vue&type=template&id=114254e0\"\nimport script from \"./SongTable.vue?vue&type=script&lang=js\"\nexport * from \"./SongTable.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\xck\\\\Desktop\\\\music-vue\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r    <div class=\"song-list\">\r        <n-layout has-sider>\r            <n-scrollbar style=\"height: calc(100vh - 56px - 80px - 24px)\">\r                <div v-if=\"isLoading\">\r                    <n-spin size=\"large\"/>\r                </div>\r                <div v-else class=\"list\">\r                    <n-image\r                        width=\"240\"\r                        :src=\"singer.imgSrc\"\r                        height=\"240\"\r                        :fallback-src=\"notImage\"\r                    />\r                    <div class=\"song-list-detail\">\r                        <h2>{{singer.name}}</h2>\r                        <div class=\"tag\">\r                            <span>单曲数 : {{ singer.songs.length }}</span>\r                        </div>\r                    </div>\r                </div>\r                <div class=\"content\">\r                    <n-space justify=\"end\">\r                        <n-input\r                            type=\"text\"\r                            show-password-on=\"mousedown\"\r                            placeholder=\"搜索歌曲\"\r                            :maxlength=\"8\"\r                            round\r                            size=\"small\"\r                            @update:value=\"search\"\r                        >\r                            <template #prefix>\r                                <n-icon :component=\"Search\"/>\r                            </template>\r                        </n-input>\r                    </n-space>\r                    <n-tabs default-value=\"song-list\" type=\"line\">\r                        <n-tab-pane name=\"song-list\" tab=\"歌曲列表\">\r                            <SongTable :songList=\"songList\" @init=\"initSongList\" :needSinger=\"false\"/>\r                        </n-tab-pane>\r                    </n-tabs>\r                </div>\r            </n-scrollbar>\r        </n-layout>\r    </div>\r</template>\r\r<script>\rimport notImage from '../assets/notImage.jpg'\rimport SongTable from '../components/SongTable'\rimport {NLayout, NScrollbar, NImage, NTabs, NTabPane, NSpace, NSpin, NIcon, NInput} from 'naive-ui'\rimport {Search, HeartSharp} from '@vicons/ionicons5'\rimport {computed, onMounted, reactive, ref} from 'vue'\rimport request from '../utils/request'\rimport {useRoute} from 'vue-router'\rexport default {\r    name: 'SingerDetail',\r    components: {\r        SongTable,\r        NLayout,\r        NInput,\r        NIcon,\r        NScrollbar,\r        NImage,\r        NTabs,\r        NTabPane,\r        NSpace,\r        NSpin,\r    },\r    setup(){\r\r        let singer = ref({songs: []})\r        let searchKey = ref('')\r        let route = useRoute()\r        let isLoading = ref(true)\r\r        let songList = computed(() => {\r            if (searchKey.value !== '') {\r                return singer.value.songs.filter(item => {\r                    return item.name.indexOf(searchKey.value) !== -1\r                })\r            } else {\r                return singer.value.songs\r            }\r        })\r\r        onMounted(() => {\r            init()\r        })\r\r        function init() {\r            request.get('/singer/' + route.params.id).then(res => {\r                if (res.data.code === 0) {\r                    singer.value = res.data.data.singer\r                    singer.value.songs = []\r                    singer.value.songs.splice(0, singer.value.songs.length)\r                    singer.value.songs.push(...res.data.data.songs)\r                    for (let i = 0; i < singer.value.songs.length; i++) {\r                        let second = Math.floor(singer.value.songs[i].time % 60)\r                        if (second.toString().length < 2) {\r                            second = '0' + second\r                        }\r                        singer.value.songs[i].time = Math.floor(singer.value.songs[i].time / 60) + ':' + second\r                    }\r                    isLoading.value = false\r                }\r            })\r        }\r\r        function search(value) {\r            searchKey.value = value\r        }\r\r        function initSongList() {\r            init()\r        }\r\r        return {\r            Search,\r            HeartSharp,\r\r            notImage,\r\r            singer,\r            searchKey,\r            isLoading,\r\r            songList,\r\r            search,\r            initSongList,\r        }\r    }\r}\r</script>\r\r<style scoped>\r.song-list {\r    padding-left: 24px;\r    padding-top: 24px;\r    padding-right: 24px;\r}\r\r.list {\r    display: flex;\r}\r\r.song-list-detail {\r    display: flex;\r    padding-left: 36px;\r    flex-direction: column;\r}\r</style>\r","import { render } from \"./SingerDetail.vue?vue&type=template&id=ecddb18e&scoped=true\"\nimport script from \"./SingerDetail.vue?vue&type=script&lang=js\"\nexport * from \"./SingerDetail.vue?vue&type=script&lang=js\"\n\nimport \"./SingerDetail.vue?vue&type=style&index=0&id=ecddb18e&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\xck\\\\Desktop\\\\music-vue\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ecddb18e\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./SingerDetail.vue?vue&type=style&index=0&id=ecddb18e&scoped=true&lang=css\""],"sourceRoot":""}