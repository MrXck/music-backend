(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d0bf5"],{"68fc":function(e,t,c){"use strict";c.r(t);var a=c("7a23");const n=Object(a["createTextVNode"])("搜索"),o=Object(a["createTextVNode"])("新增"),l=Object(a["createElementVNode"])("thead",null,[Object(a["createElementVNode"])("tr",null,[Object(a["createElementVNode"])("th",null,"序号"),Object(a["createElementVNode"])("th",null,"歌曲名"),Object(a["createElementVNode"])("th",null,"歌手"),Object(a["createElementVNode"])("th",null,"创建时间"),Object(a["createElementVNode"])("th",null,"操作")])],-1),d={key:0},r=Object(a["createTextVNode"])(" 修改 "),b=Object(a["createTextVNode"])(" 删除 ");function i(e,t,c,i,u,j){const p=Object(a["resolveComponent"])("n-input"),O=Object(a["resolveComponent"])("n-space"),s=Object(a["resolveComponent"])("n-button"),m=Object(a["resolveComponent"])("n-table"),g=Object(a["resolveComponent"])("n-empty"),N=Object(a["resolveComponent"])("n-pagination");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(O,{style:{margin:"10px 0"}},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(p,{onKeydown:Object(a["withKeys"])(i.search,["enter"]),value:i.keyword,"onUpdate:value":t[0]||(t[0]=e=>i.keyword=e),type:"text",placeholder:"请输入关键词"},null,8,["onKeydown","value"])]),_:1}),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{onClick:i.search},{default:Object(a["withCtx"])(()=>[n]),_:1},8,["onClick"])]),_:1}),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{onClick:i.add},{default:Object(a["withCtx"])(()=>[o]),_:1},8,["onClick"])]),_:1})]),_:1}),Object(a["createVNode"])(m,{style:{margin:"10px 0"}},{default:Object(a["withCtx"])(()=>[l,Object(a["createElementVNode"])("tbody",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(i.songs,(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",{key:e.id},[Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(t+1),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(e.name),1),Object(a["createElementVNode"])("td",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.singers,(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",null,[0!==t?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",d," / ")):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.name),1)]))),256))]),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(e.createTime.replace("T"," ")),1),Object(a["createElementVNode"])("td",null,[Object(a["createVNode"])(s,{type:"info",size:"small",ghost:"",onClick:t=>i.update(e.id)},{default:Object(a["withCtx"])(()=>[r]),_:2},1032,["onClick"]),Object(a["createVNode"])(s,{style:{"margin-left":"10px"},type:"error",size:"small",ghost:"",onClick:t=>i.deleteById(e.id)},{default:Object(a["withCtx"])(()=>[b]),_:2},1032,["onClick"])])]))),128))])]),_:1}),Object(a["createVNode"])(O,{justify:"center"},{default:Object(a["withCtx"])(()=>[Object(a["withDirectives"])(Object(a["createVNode"])(g,{description:"暂无"},null,512),[[a["vShow"],0===i.totalPage]])]),_:1}),Object(a["withDirectives"])(Object(a["createVNode"])(N,{style:{padding:"10px"},page:i.page,"onUpdate:page":[t[1]||(t[1]=e=>i.page=e),i.updatePage],"page-count":i.totalPage,size:"medium","show-quick-jumper":"","show-size-picker":"","page-sizes":[10,20,30,40],"onUpdate:pageSize":i.updatePageSize},null,8,["page","page-count","onUpdate:page","onUpdate:pageSize"]),[[a["vShow"],i.totalPage>=1]])],64)}var u=c("1442"),j=c("3519"),p=c("c872"),O=c("6e31"),s=c("b6e9"),m=c("5609"),g=c("990e"),N=c("73170"),h=c("b775"),V=c("6605"),k={name:"AdminSong",components:{NTable:u["a"],NButton:j["a"],NSpace:p["a"],NModal:O["a"],NInput:s["a"],NEmpty:m["a"],NPagination:g["a"]},setup(){const e=Object(N["a"])(),t=Object(V["e"])();let c=Object(a["ref"])(""),n=Object(a["ref"])(1),o=Object(a["ref"])(10),l=Object(a["ref"])(0),d=Object(a["reactive"])([]);function r(){h["a"].get(`/song/search?pageSize=${o.value}&pageNum=${n.value}&keyword=${c.value}`).then(e=>{1===e.data.code||(d.length=0,l.value=e.data.data.pages,n.value=e.data.data.current,d.push(...e.data.data.records))})}function b(t){h["a"].post("/admin/song/delete/"+t).then(t=>{1===t.data.code?e.error("删除失败"):e.success("删除成功")}).finally(()=>{r()})}function i(e){n.value=e,r()}function u(e){o.value=e,r()}function j(){r()}function p(){t.push("/admin/songUpdate")}function O(e){t.push("/admin/songUpdate?id="+e)}return Object(a["onMounted"])(()=>{r()}),{keyword:c,songs:d,page:n,pageSize:o,totalPage:l,deleteById:b,updatePage:i,updatePageSize:u,search:j,add:p,update:O}}},f=c("6b0d"),w=c.n(f);const y=w()(k,[["render",i]]);t["default"]=y}}]);
//# sourceMappingURL=chunk-2d0d0bf5.e21be565.js.map