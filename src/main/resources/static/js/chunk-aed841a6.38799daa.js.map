{"version":3,"sources":["webpack:///./node_modules/@vicons/ionicons5/es/ArchiveOutline.js","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?50b2","webpack:///./src/views/Login.vue?8446"],"names":["_hoisted_1","xmlns","viewBox","_hoisted_2","d","fill","stroke","_hoisted_3","x","y","width","height","rx","ry","_hoisted_4","_hoisted_5","_hoisted_6","name","render","_ctx","_cache","class","ref","_createElementVNode","action","onsubmit","_createElementBlock","type","$setup","username","$event","placeholder","password","_toDisplayString","value","onClick","href","_hoisted_14","phone","_hoisted_20","__exports__"],"mappings":"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","file":"js/chunk-aed841a6.38799daa.js","sourcesContent":["import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 512 512'\n}\nconst _hoisted_2 = /*#__PURE__*/ _createElementVNode(\n  'path',\n  {\n    d: 'M80 152v256a40.12 40.12 0 0 0 40 40h272a40.12 40.12 0 0 0 40-40V152',\n    fill: 'none',\n    stroke: 'currentColor',\n    'stroke-linecap': 'round',\n    'stroke-linejoin': 'round',\n    'stroke-width': '32'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nconst _hoisted_3 = /*#__PURE__*/ _createElementVNode(\n  'rect',\n  {\n    x: '48',\n    y: '64',\n    width: '416',\n    height: '80',\n    rx: '28',\n    ry: '28',\n    fill: 'none',\n    stroke: 'currentColor',\n    'stroke-linejoin': 'round',\n    'stroke-width': '32'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nconst _hoisted_4 = /*#__PURE__*/ _createElementVNode(\n  'path',\n  {\n    fill: 'none',\n    stroke: 'currentColor',\n    'stroke-linecap': 'round',\n    'stroke-linejoin': 'round',\n    'stroke-width': '32',\n    d: 'M320 304l-64 64l-64-64'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nconst _hoisted_5 = /*#__PURE__*/ _createElementVNode(\n  'path',\n  {\n    fill: 'none',\n    stroke: 'currentColor',\n    'stroke-linecap': 'round',\n    'stroke-linejoin': 'round',\n    'stroke-width': '32',\n    d: 'M256 345.89V224'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nconst _hoisted_6 = [_hoisted_2, _hoisted_3, _hoisted_4, _hoisted_5]\nexport default defineComponent({\n  name: 'ArchiveOutline',\n  render: function render(_ctx, _cache) {\n    return _openBlock(), _createElementBlock('svg', _hoisted_1, _hoisted_6)\n  }\n})\n","<template>\r    <section>\r        <div class=\"container\" ref=\"container\">\r            <div class=\"user singinBx\">\r                <div class=\"imgBx\"></div>\r                <div class=\"formBx\">\r                    <form action=\"/\" onsubmit=\"return false\">\r                        <h2>Sign In</h2>\r                        <input type=\"text\" v-model=\"login.username\" name=\"username\" placeholder=\"Username\">\r                        <input type=\"password\" v-model=\"login.password\" name=\"password\" placeholder=\"Password\">\r                        <div class=\"error\" v-text=\"LoginError\"></div>\r                        <input type=\"submit\" value=\"Login\" @click=\"Login\">\r                        <p class=\"signup\"><a href=\"javascript:void(0)\" @click=\"toggleForm\">Sign\r                            Up By Sms.</a></p>\r                        <p class=\"signup\">Don't have an account ?<a href=\"javascript:void(0)\" @click=\"toRegister\">Sign\r                            Up.</a></p>\r                    </form>\r                </div>\r            </div>\r            <div class=\"user singupBx\">\r                <div class=\"formBx\">\r                    <form action=\"/\" onsubmit=\"return false\">\r                        <h2>Sign In</h2>\r                        <input type=\"text\" v-model=\"loginBySms.phone\" name=\"phone\" placeholder=\"Phone\">\r                        <div class=\"code\">\r                            <input type=\"text\" v-model=\"code\" name=\"code\" placeholder=\"Code\">\r                            <input type=\"submit\" value=\"Send Sms\" @click=\"sendMsg\">\r                        </div>\r                        <div class=\"error\" v-text=\"loginBySmsError\"></div>\r                        <input type=\"submit\" value=\"Sign in\" @click=\"LoginBySmsFun\">\r                        <p class=\"signup\"><a href=\"javascript:void(0)\" @click=\"toggleForm\">Sign\r                            In By Password.</a></p>\r                        <p class=\"signup\">Don't have an account ?<a href=\"javascript:void(0)\" @click=\"toRegister\">Sign\r                            Up.</a></p>\r                    </form>\r                </div>\r                <div class=\"imgBx\"></div>\r            </div>\r        </div>\r    </section>\r</template>\r\r<script>\rimport notImage from '../assets/notImage.jpg'\rimport request from '@/utils/request'\rimport {useMessage, NAvatar, NButton} from 'naive-ui'\rimport {ArchiveOutline as ArchiveIcon} from '@vicons/ionicons5'\rimport {reactive, ref, onMounted, getCurrentInstance} from 'vue'\rimport {useRouter} from 'vue-router'\r\rexport default {\r    name: 'Login',\r    setup() {\r        let router = useRouter()\r        let container = null;\r        let login = reactive({\r            username: '',\r            password: '',\r        })\r        let loginBySms = reactive({\r            username: '',\r            phone: '',\r        })\r        let code = ref('')\r        let LoginError = ref('')\r        let loginBySmsError = ref('')\r\r        let file = null\r\r        let message = useMessage()\r\r        onMounted(()=>{\r            container = getCurrentInstance().refs.container\r            file = getCurrentInstance().refs.file\r        })\r\r        function Login() {\r            LoginError.value = ''\r            request.post('/user/login', login).then((res) => {\r                if (res.data.code === 1) {\r                    LoginError.value = res.data.msg\r                } else {\r                    localStorage.setItem('user', JSON.stringify(res.data.data.user))\r                    localStorage.setItem('token', res.data.data.token)\r                    router.push('/')\r                }\r            })\r        }\r\r        function LoginBySmsFun() {\r            loginBySmsError.value = ''\r            request.post('/user/loginBySms?code=' + code.value, loginBySms).then((res) => {\r                if (res.data.code === 1) {\r                    loginBySmsError.value = res.data.msg\r                } else {\r                    localStorage.setItem('user', JSON.stringify(res.data.data.user))\r                    localStorage.setItem('token', res.data.data.token)\r                    router.push('/')\r                }\r            })\r        }\r\r        function toggleForm() {\r            container.classList.toggle('active')\r        }\r\r        function sendMsg(){\r            request.post('/user/sendMsg', {phone: loginBySms.phone}).then((res) => {\r                if (res.data.code === 1){\r                    loginBySmsError.value = res.data.msg\r                }else {\r                    message.success('发送成功')\r                }\r            })\r        }\r\r        function toRegister(){\r            router.push('/register')\r        }\r\r        return {\r            login,\r            loginBySms,\r            code,\r            LoginError,\r            loginBySmsError,\r\r            Login,\r            LoginBySmsFun,\r            toggleForm,\r            sendMsg,\r            toRegister,\r\r            notImage,\r        }\r    },\r    components: {\r        ArchiveIcon,\r        NAvatar,\r\r    },\r}\r</script>\r\r<style scoped>\r\r.hidden {\r    display: none;\r}\r\r* {\r    box-sizing: border-box;\r    font-family: \"Poppins\", sans-serif;\r}\r\r.code {\r    display: flex;\r}\r\rsection {\r    min-height: 100vh;\r    background: #d9d9d9;\r    display: flex;\r    justify-content: center;\r    align-items: center;\r    padding: 20px;\r}\r\rsection .container {\r    position: relative;\r    width: 800px;\r    height: 550px;\r    background: #fff;\r    box-shadow: 0 15px 50px rgba(0, 0, 0, 0.1);\r    overflow: hidden;\r}\r\rsection .container .user {\r    position: absolute;\r    top: 0;\r    left: 0;\r    width: 100%;\r    height: 100%;\r    display: flex;\r}\r\rsection .container .user .imgBx {\r    position: relative;\r    width: 50%;\r    height: 100%;\r    background: #97dbdc;\r    transition: .5s;\r}\r\rsection .container .user .imgBx img {\r    position: absolute;\r    top: 0;\r    left: 0;\r    width: 100%;\r    height: 100%;\r    object-left: cover;\r}\r\rsection .container .user .formBx {\r    position: relative;\r    width: 50%;\r    height: 100%;\r    background: #fff;\r    display: flex;\r    justify-content: center;\r    align-items: center;\r    padding: 40px;\r    transition: .5s;\r}\r\rsection .container .user .formBx form h2 {\r    font-size: 18px;\r    font-weight: 600;\r    text-transform: uppercase;\r    letter-spacing: 2px;\r    text-align: center;\r    width: 100%;\r    margin-bottom: 10px;\r    color: #555;\r}\r\rsection .container .user .formBx form input {\r    position: relative;\r    width: 100%;\r    padding: 10px;\r    background: #f5f5f5;\r    color: #333;\r    border: none;\r    outline: none;\r    box-shadow: none;\r    margin: 8px 0;\r    font-size: 14px;\r    letter-spacing: 1px;\r}\r\rsection .container .user .formBx form input[type=\"submit\"] {\r    max-width: 100px;\r    background: #677eff;\r    color: #fff;\r    cursor: pointer;\r    font-size: 14px;\r    font-weight: 500;\r    letter-spacing: 1px;\r    transition: .5s;\r}\r\rsection .container .user .formBx form .signup {\r    position: relative;\r    margin-top: 20px;\r    font-size: 12px;\r    letter-spacing: 1px;\r    color: #555;\r    text-transform: uppercase;\r    font-weight: 300;\r}\r\rsection .container .user .formBx form .signup a {\r    font-weight: 600;\r    text-decoration: none;\r    color: #67eff;\r}\r\rsection .container .singupBx {\r    pointer-events: none;\r}\r\rsection .container.active .singupBx {\r    pointer-events: initial;\r}\r\rsection .container .singupBx .formBx {\r    left: 100%;\r}\r\rsection .container.active .singupBx .formBx {\r    left: 0;\r}\r\rsection .container .singupBx .imgBx {\r    left: -100%;\r}\r\rsection .container.active .singupBx .imgBx {\r    left: 0;\r}\r\r\rsection .container .singinBx .formBx {\r    left: 0;\r}\r\rsection .container.active .singinBx .formBx {\r    left: 100%;\r}\r\rsection .container .singinBx .imgBx {\r    left: 0;\r}\r\rsection .container.active .singinBx .imgBx {\r    left: 100%;\r}\r\r@media (max-width: 991px) {\r    section .container {\r        max-width: 400px;\r    }\r\r    section .container .imgBx {\r        display: none;\r    }\r\r    section .container .user .formBx {\r        width: none;\r    }\r}\r\r.error {\r    color: red;\r    font-size: 12px;\r}\r</style>\r","import { render } from \"./Login.vue?vue&type=template&id=3e25474e&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=3e25474e&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\前端\\\\项目\\\\music-vue\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3e25474e\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Login.vue?vue&type=style&index=0&id=3e25474e&scoped=true&lang=css\""],"sourceRoot":""}