(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e5b26"],{"961d":function(e,t,a){"use strict";a.r(t);var c=a("7a23");const n=Object(c["createTextVNode"])("搜索"),o=Object(c["createTextVNode"])("新增"),l=Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",null,"序号"),Object(c["createElementVNode"])("th",null,"歌手名"),Object(c["createElementVNode"])("th",null,"创建者"),Object(c["createElementVNode"])("th",null,"创建时间"),Object(c["createElementVNode"])("th",null,"操作")])],-1),d=Object(c["createTextVNode"])(" 修改 "),r=Object(c["createTextVNode"])(" 删除 ");function i(e,t,a,i,u,b){const p=Object(c["resolveComponent"])("n-input"),s=Object(c["resolveComponent"])("n-space"),j=Object(c["resolveComponent"])("n-button"),O=Object(c["resolveComponent"])("n-table"),g=Object(c["resolveComponent"])("n-empty"),m=Object(c["resolveComponent"])("n-pagination");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createVNode"])(s,{style:{margin:"10px 0"}},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(s,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(p,{onKeydown:Object(c["withKeys"])(i.search,["enter"]),value:i.keyword,"onUpdate:value":t[0]||(t[0]=e=>i.keyword=e),type:"text",placeholder:"请输入关键词"},null,8,["onKeydown","value"])]),_:1}),Object(c["createVNode"])(s,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(j,{onClick:i.search},{default:Object(c["withCtx"])(()=>[n]),_:1},8,["onClick"])]),_:1}),Object(c["createVNode"])(s,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(j,{onClick:i.add},{default:Object(c["withCtx"])(()=>[o]),_:1},8,["onClick"])]),_:1})]),_:1}),Object(c["createVNode"])(O,{style:{margin:"10px 0"}},{default:Object(c["withCtx"])(()=>[l,Object(c["createElementVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(i.songList,(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:e.id},[Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t+1),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.name),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.user.username),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.createTime.replace("T"," ")),1),Object(c["createElementVNode"])("td",null,[Object(c["createVNode"])(j,{type:"info",size:"small",ghost:"",onClick:t=>i.update(e.id)},{default:Object(c["withCtx"])(()=>[d]),_:2},1032,["onClick"]),Object(c["createVNode"])(j,{style:{"margin-left":"10px"},type:"error",size:"small",ghost:"",onClick:t=>i.deleteById(e.id)},{default:Object(c["withCtx"])(()=>[r]),_:2},1032,["onClick"])])]))),128))])]),_:1}),Object(c["createVNode"])(s,{justify:"center"},{default:Object(c["withCtx"])(()=>[Object(c["withDirectives"])(Object(c["createVNode"])(g,{description:"暂无"},null,512),[[c["vShow"],0===i.totalPage]])]),_:1}),Object(c["withDirectives"])(Object(c["createVNode"])(m,{style:{padding:"10px"},page:i.page,"onUpdate:page":[t[1]||(t[1]=e=>i.page=e),i.updatePage],"page-count":i.totalPage,size:"medium","show-quick-jumper":"","show-size-picker":"","page-sizes":[10,20,30,40],"onUpdate:pageSize":i.updatePageSize},null,8,["page","page-count","onUpdate:page","onUpdate:pageSize"]),[[c["vShow"],i.totalPage>=1]])],64)}var u=a("1442"),b=a("3519"),p=a("c872"),s=a("6e31"),j=a("b6e9"),O=a("5609"),g=a("990e"),m=a("73170"),h=a("b775"),N=a("6605"),V={name:"AdminSongList",components:{NTable:u["a"],NButton:b["a"],NSpace:p["a"],NModal:s["a"],NInput:j["a"],NEmpty:O["a"],NPagination:g["a"]},setup(){const e=Object(m["a"])(),t=Object(N["e"])();let a=Object(c["ref"])(""),n=Object(c["ref"])(1),o=Object(c["ref"])(10),l=Object(c["ref"])(0),d=Object(c["reactive"])([]);function r(){h["a"].get(`/songList/search?pageSize=${o.value}&pageNum=${n.value}&keyword=${a.value}`).then(e=>{1===e.data.code||(d.length=0,l.value=e.data.data.pages,n.value=e.data.data.current,d.push(...e.data.data.records))})}function i(t){h["a"].post("/songList/delete/"+t).then(t=>{1===t.data.code?e.error("删除失败"):e.success("删除成功")}).finally(()=>{r()})}function u(e){n.value=e,r()}function b(e){o.value=e,r()}function p(){r()}function s(){t.push("/admin/songListUpdate")}function j(e){t.push("/admin/songListUpdate?id="+e)}return Object(c["onMounted"])(()=>{r()}),{keyword:a,songList:d,page:n,pageSize:o,totalPage:l,deleteById:i,updatePage:u,updatePageSize:b,search:p,add:s,update:j}}},w=a("6b0d"),f=a.n(w);const y=f()(V,[["render",i]]);t["default"]=y}}]);
//# sourceMappingURL=chunk-2d0e5b26.f82e35a6.js.map